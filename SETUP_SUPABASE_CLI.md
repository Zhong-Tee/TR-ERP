# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Supabase CLI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå TR-ERP

## ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

- ‚úÖ Supabase CLI ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß (version 2.72.7)
- ‚úÖ Supabase Dashboard ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß
- ‚ö†Ô∏è ‡∏°‡∏µ error ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö organization `segargvekjxvtibkpiax` (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå) - **‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤** ‡πÅ‡∏Ñ‡πà‡∏õ‡∏¥‡∏î error message ‡πÑ‡∏î‡πâ
- ‚úÖ Organization "TEE-ZHONG" ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ (‡∏°‡∏µ 2 projects)
- üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå:
  - Project Reference: `zkzjbhvsltbwbtteihiy`
  - SUPABASE_URL: `https://zkzjbhvsltbwbtteihiy.supabase.co`

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### 0. ‡πÄ‡∏Ç‡πâ‡∏≤ Dashboard ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Organization (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Dashboard)

1. **‡πÄ‡∏Ç‡πâ‡∏≤ Supabase Dashboard:**
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://supabase.com/dashboard
   - Login ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö

2. **‡∏õ‡∏¥‡∏î Error Message (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ):**
   - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ error "Organization not found" ‡πÉ‡∏´‡πâ‡∏õ‡∏¥‡∏î error message ‡∏ô‡∏±‡πâ‡∏ô
   - Error ‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡πÅ‡∏Ñ‡πà‡πÄ‡∏õ‡πá‡∏ô organization ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå

3. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Organization:**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà organization **"TEE-ZHONG"**
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå `zkzjbhvsltbwbtteihiy` ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô organization ‡∏ô‡∏µ‡πâ

4. **‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå:**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Settings ‚Üí Edge Functions ‚Üí Secrets ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Secrets

### 1. Login ‡πÄ‡∏Ç‡πâ‡∏≤ Supabase (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ CLI)

```powershell
# ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
cd e:\Web_App\TR-ERP

# Login ‡πÄ‡∏Ç‡πâ‡∏≤ Supabase
supabase login
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î browser ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì login ‡πÄ‡∏Ç‡πâ‡∏≤ Supabase

### 2. Link ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Remote

```powershell
# Link ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå remote
supabase link --project-ref zkzjbhvsltbwbtteihiy
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** 
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ prompt ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å organization ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å organization ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ prompt ‡πÉ‡∏´‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô ‡πÉ‡∏´‡πâ‡∏Å‡∏î Y

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Secrets ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Edge Functions

```powershell
# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ EASYSLIP_API_KEY (‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ API Key ‡∏à‡∏≤‡∏Å EasySlip ‡∏Å‡πà‡∏≠‡∏ô)
supabase secrets set EASYSLIP_API_KEY=your-easyslip-api-key-here

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ SERVICE_ROLE_KEY (‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Email ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ï‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå)
supabase secrets set SERVICE_ROLE_KEY=your-service-role-key-here

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ PROJECT_URL (‡πÅ‡∏ó‡∏ô SUPABASE_URL ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á reserved prefix)
supabase secrets set PROJECT_URL=https://zkzjbhvsltbwbtteihiy.supabase.co
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏´‡∏≤ SERVICE_ROLE_KEY:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Email ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ï‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Supabase
- Email ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏°‡∏µ API keys ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á service_role key
- ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå config ‡πÄ‡∏Å‡πà‡∏≤ ‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏ô

### 4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Secrets ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏ß‡πâ

```powershell
# ‡∏î‡∏π secrets ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
supabase secrets list
```

### 5. Deploy Edge Function

```powershell
# Deploy function verify-slip
supabase functions deploy verify-slip
```

### 6. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Deploy ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

```powershell
# ‡∏î‡∏π logs ‡∏Ç‡∏≠‡∏á function
supabase functions logs verify-slip
```

---

## Checklist

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:
- [ ] Login ‡πÄ‡∏Ç‡πâ‡∏≤ Supabase (`supabase login`)
- [ ] Link ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (`supabase link --project-ref zkzjbhvsltbwbtteihiy`)
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `EASYSLIP_API_KEY` (‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤ API Key ‡∏Å‡πà‡∏≠‡∏ô)
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `SERVICE_ROLE_KEY` (‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Email)
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `PROJECT_URL` (‡πÅ‡∏ó‡∏ô SUPABASE_URL)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Secrets (`supabase secrets list`)
- [ ] Deploy Edge Function (`supabase functions deploy verify-slip`)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Logs (`supabase functions logs verify-slip`)

---

## ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå

### ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå:
```powershell
# ‡∏î‡∏π project info
supabase projects list
```

### ‡∏î‡∏π Edge Functions:
```powershell
# ‡∏î‡∏π functions ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
supabase functions list
```

### ‡∏î‡∏π Logs:
```powershell
# ‡∏î‡∏π logs ‡∏Ç‡∏≠‡∏á function
supabase functions logs verify-slip

# ‡∏î‡∏π logs ‡πÅ‡∏ö‡∏ö real-time
supabase functions logs verify-slip --follow
```

### ‡∏•‡∏ö Secret:
```powershell
# ‡∏•‡∏ö secret
supabase secrets unset SECRET_NAME
```

---

## Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "You are not logged in"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
```powershell
supabase login
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Project not found"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ project-ref ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: `zkzjbhvsltbwbtteihiy`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ login ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Permission denied"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Account ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
- ‡∏•‡∏≠‡∏á logout ‡πÅ‡∏•‡∏∞ login ‡πÉ‡∏´‡∏°‡πà

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Secret not found"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ secret name ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (case-sensitive)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ link ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÅ‡∏•‡πâ‡∏ß

---

## ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

‚ö†Ô∏è **Security:**
- ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢ `SERVICE_ROLE_KEY` ‡∏´‡∏£‡∏∑‡∏≠ `EASYSLIP_API_KEY`
- ‡∏≠‡∏¢‡πà‡∏≤ commit secrets ‡∏•‡∏á‡πÉ‡∏ô git
- Secrets ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ô Supabase Cloud

üìù **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ:**
1. Login ‡πÅ‡∏•‡∏∞ Link ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
2. ‡∏´‡∏≤ `SERVICE_ROLE_KEY` ‡∏à‡∏≤‡∏Å Email
3. ‡∏´‡∏≤ `EASYSLIP_API_KEY` ‡∏à‡∏≤‡∏Å EasySlip (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Secrets ‡∏ó‡∏±‡πâ‡∏á 3 ‡∏ï‡∏±‡∏ß
5. Deploy Edge Function
6. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

---

## ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### Q: ‡∏à‡∏∞‡∏´‡∏≤ SERVICE_ROLE_KEY ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
**A:** 
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Email ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ï‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Supabase
- Email ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏°‡∏µ API keys ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á service_role key
- ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå config ‡πÄ‡∏Å‡πà‡∏≤ ‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏ô

### Q: ‡∏à‡∏∞‡∏´‡∏≤ EASYSLIP_API_KEY ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
**A:**
- ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ EasySlip Dashboard (‡πÅ‡∏ï‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Ñ)
- ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ API Key ‡πÄ‡∏Å‡πà‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (‡∏à‡∏≤‡∏Å notes, password manager, email)
- ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ EasySlip Support ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠ API Key

### Q: ‡∏ñ‡πâ‡∏≤ Dashboard ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?
**A:**
- Secrets ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏ß‡∏¢ CLI ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Dashboard
- ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Secrets ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏à‡∏≤‡∏Å Dashboard ‡πÅ‡∏•‡∏∞ CLI
